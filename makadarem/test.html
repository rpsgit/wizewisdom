---
layout: default
title: Makadarem Menu
---

<style>
:root{
  --primary:#ff5722;
  --secondary:#ff7e5f;
  --dark:#3a2a15;
  --bg:#f4f4f4;
  --card:#ffffff;
  --radius:16px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:Poppins,Arial,sans-serif;
  background:var(--bg)
    url('{{ "/assets/images/menu/bg.png" | relative_url }}')
    no-repeat center/cover fixed;
}

/* ===== PAGE ===== */
.page-container{
  max-width:1200px;
  margin:20px auto 160px;
  padding:16px;
  background:rgba(255,255,255,.97);
  border-radius:24px;
  box-shadow:0 10px 40px rgba(0,0,0,.15);
}

h1{
  text-align:center;
  margin-bottom:10px;
  color:var(--dark);
}

.subtitle{
  text-align:center;
  color:#666;
  margin-bottom:20px;
}

/* ===== CATEGORY NAV ===== */
.category-nav{
  display:flex;
  gap:8px;
  overflow-x:auto;
  padding-bottom:10px;
  margin-bottom:16px;
}
.category-nav button{
  white-space:nowrap;
  border:none;
  padding:8px 14px;
  border-radius:999px;
  background:#eee;
  cursor:pointer;
  font-weight:600;
}
.category-nav button.active{
  background:linear-gradient(135deg,var(--secondary),var(--primary));
  color:#fff;
}

/* ===== CATEGORY SECTION ===== */
.category-section{
  margin-bottom:26px;
}
.category-title{
  font-size:1.1rem;
  font-weight:700;
  color:var(--dark);
  margin:10px 0;
}

/* ===== MENU GRID ===== */
.menu-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:14px;
}

.menu-item{
  background:var(--card);
  border-radius:var(--radius);
  padding:14px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  box-shadow:0 4px 14px rgba(0,0,0,.08);
  transition:.15s;
}
.menu-item:hover{
  transform:translateY(-2px);
  box-shadow:0 8px 22px rgba(0,0,0,.12);
}

.details h3{
  margin:0;
  font-size:1rem;
  color:var(--dark);
}
.details p{
  margin:6px 0 0;
  font-weight:700;
  color:var(--primary);
}

.actions{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
}
.actions input[type=checkbox]{transform:scale(1.3)}
.actions input[type=number]{
  width:60px;
  padding:6px;
  border-radius:8px;
  border:1px solid #ccc;
  text-align:center;
  display:none;
}

/* ===== TOTAL ===== */
.total-price{
  font-size:1.2rem;
  font-weight:800;
  color:var(--primary);
  text-align:right;
  margin:20px 0;
}

/* ===== FORM ===== */
.order-form-section{
  display:grid;
  gap:10px;
}
.order-form-section input,
.order-form-section textarea{
  padding:12px;
  border-radius:12px;
  border:1px solid #ccc;
}

/* ===== BUTTON ===== */
.order-button{
  margin-top:16px;
  width:100%;
  padding:14px;
  border-radius:999px;
  border:none;
  font-size:1.05rem;
  font-weight:700;
  color:#fff;
  background:linear-gradient(135deg,var(--secondary),var(--primary));
}

/* ===== SUMMARY ===== */
.order-summary-wrapper{
  display:none;
  margin:40px auto;
  max-width:420px;
}
.order-summary-card{
  background:#fff;
  border-radius:20px;
  padding:20px;
  border:2px dashed var(--secondary);
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}
.order-summary-card h2{text-align:center}

.summary-buttons{
  display:flex;
  gap:10px;
  margin-top:15px;
}
.summary-buttons button{
  flex:1;
  padding:10px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,var(--secondary),var(--primary));
  color:#fff;
}

/* ===== MODAL ===== */
#orderPreviewModal{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.6);
  justify-content:center;
  align-items:center;
  z-index:999;
}
.modal-box{
  background:#fff;
  padding:20px;
  border-radius:16px;
  width:92%;
  max-width:420px;
}

/* ===== MOBILE ===== */
@media(max-width:600px){
  .total-price{
    position:sticky;
    bottom:0;
    background:#fff;
    padding:12px;
    border-top:1px solid #eee;
    text-align:center;
    z-index:10;
  }
}
</style>

<div class="page-container">
  <h1>Makadarem for VS2</h1>
  <div class="subtitle">Select items • Confirm • Screenshot summary</div>

  <div class="category-nav" id="categoryNav"></div>

  <form id="menuForm">
    <div id="menuContainer">Loading menu…</div>

    <div class="total-price" id="totalPrice">Total: ₱0</div>

    <div class="order-form-section">
      <input name="name" placeholder="Name" required>
      <input name="contact" placeholder="09XXXXXXXXX" required>
      <input name="unit_no" placeholder="Unit No." required>
      <textarea name="notes" placeholder="Notes (optional)"></textarea>
    </div>

    <button class="order-button">Place Order</button>
  </form>
</div>

<div class="order-summary-wrapper" id="orderSummaryCard">
  <div class="order-summary-card">
    <h2>Order Summary</h2>
    <div id="finalOrderSummary"></div>
    <div class="summary-buttons">
      <button id="copyOrderBtn">Copy</button>
      <button id="printOrderBtn">Print / Save</button>
    </div>
  </div>
</div>

<div id="orderPreviewModal">
  <div class="modal-box">
    <h3>Confirm Order?</h3>
    <div id="orderSummary"></div><br>
    <button id="confirmOrderBtn">Confirm</button>
    <button id="cancelOrderBtn">Cancel</button>
  </div>
</div>

<script>
const menuURL="https://script.google.com/macros/s/AKfycbykjopHttTCH5TcgR_fkHjxDTFJbgKjZ5Qfs-wnJJdD5Z638xYjaAzSerNfsgtAuf41/exec?func=getMenu";
const orderURL="https://script.google.com/macros/s/AKfycbykjopHttTCH5TcgR_fkHjxDTFJbgKjZ5Qfs-wnJJdD5Z638xYjaAzSerNfsgtAuf41/exec";

const menuContainer=document.getElementById("menuContainer");
const categoryNav=document.getElementById("categoryNav");
const totalPriceEl=document.getElementById("totalPrice");
const form=document.getElementById("menuForm");

let priceMap={},pendingOrder=null;

const key=t=>t.replace(/\s+/g,"_").replace(/[^a-z0-9_]/gi,"").toLowerCase();

fetch(menuURL).then(r=>r.json()).then(data=>{
  const groups={};
  data.forEach(i=>{
    const cat=i.Category||"Others";
    groups[cat]=groups[cat]||[];
    groups[cat].push(i);
  });

  menuContainer.innerHTML="";
  Object.keys(groups).forEach((cat,idx)=>{
    categoryNav.innerHTML+=
      `<button class="${idx==0?'active':''}" onclick="document.getElementById('${key(cat)}').scrollIntoView({behavior:'smooth'})">${cat}</button>`;

    menuContainer.innerHTML+=
      `<div class="category-section" id="${key(cat)}">
        <div class="category-title">${cat}</div>
        <div class="menu-grid">
          ${groups[cat].map(i=>{
            const k=key(i.Item);
            priceMap[k]=+i.Price;
            return `
            <div class="menu-item">
              <div class="details">
                <h3>${i.Item}</h3>
                <p>₱${i.Price}</p>
              </div>
              <div class="actions">
                <input type="checkbox" name="item_${k}">
                <input type="number" name="qty_${k}" value="1" min="1">
              </div>
            </div>`;
          }).join("")}
        </div>
      </div>`;
  });
});

menuContainer.addEventListener("change",()=>{
  let total=0;
  document.querySelectorAll('input[type=checkbox]:checked').forEach(cb=>{
    const k=cb.name.replace("item_","");
    const qty=form[`qty_${k}`];
    qty.style.display="block";
    total+=priceMap[k]*qty.value;
  });
  document.querySelectorAll('input[type=checkbox]:not(:checked)').forEach(cb=>{
    cb.closest(".actions").querySelector("input[type=number]").style.display="none";
  });
  totalPriceEl.textContent=`Total: ₱${total}`;
});
</script>
