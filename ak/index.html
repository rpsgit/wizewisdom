---
layout: default
title: ADIMUP KITCHEN
---

<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">

<style>
:root{ --primary:#ffd600; --secondary:#ffea00; --bg:#f4f4f4; --text-dark: #111; }
*{box-sizing:border-box}
body{ margin:0; font-family:'Lato', sans-serif; background:var(--bg); color: var(--text-dark); }
h1,h2,h3, .tabs button, .price, #logoFallback, .main { font-family:'Bebas Neue', sans-serif; letter-spacing:.03em; }

#closedBanner{ display:none; background:#111; color:#fff; padding:14px; text-align:center; font-weight:900; }
.page{ position: relative; max-width:800px; margin:20px auto 100px; padding:16px; background:#fff; border-radius:24px; }
#logo{ display:block; margin:0 auto 8px; max-width:180px; }

.tabs{ display:flex; gap:8px; overflow-x:auto; margin-bottom:16px; padding-bottom:5px; }
.tabs button{ border:none; padding:10px 16px; border-radius:999px; background:#eee; cursor:pointer; white-space: nowrap; }
.tabs button.active{ background:var(--primary); color:var(--text-dark); }

.tab-content{display:none}
.tab-content.active{display:block}
.grid{ display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:14px; }
.item{ background:#fff; border-radius:16px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,.08); border: 1px solid #eee; }
.item img{ width:100%; height:120px; object-fit:cover; }
.item-body{ padding:10px; }
.price{ color:#d4af37; font-size: 1.2rem; }

.pay-box { background: #f9f9f9; padding: 15px; border-radius: 12px; margin: 15px 0; border: 1px solid #ddd; }
.pay-opt { display: block; margin-bottom: 8px; cursor: pointer; }
#payInstructions { display: none; margin-top: 10px; font-size: 0.85rem; padding: 10px; background: #fff; border: 1px dashed #ccc; }

input, textarea { width:100%; padding:12px; border-radius:10px; border:1px solid #ccc; margin-bottom:10px; font-size: 1rem; }
button.main { width:100%; padding:16px; border:none; border-radius:999px; background:linear-gradient(135deg,var(--secondary),var(--primary)); font-size: 1.2rem; cursor: pointer; }

#modal{ display:none; position:fixed; inset:0; background:rgba(0,0,0,.7); justify-content:center; align-items:center; z-index:999; }
.modal-box{ background:#fff; padding:24px; border-radius:20px; max-width:400px; width:90%; text-align:center; }
.order-id-display { font-size: 1.5rem; color: #d4af37; border: 2px dashed #d4af37; padding: 10px; margin: 10px 0; display: inline-block; }
</style>

<div id="closedBanner">ðŸš« WE ARE CURRENTLY CLOSED</div>

<div class="page">
    <img id="logo" src="/assets/images/ak/Adimup%20Kitchen.png">
    <h1 style="text-align:center; margin-top:0;">ADIMUP KITCHEN</h1>
    <div class="tabs" id="tabs"></div>
    <form id="form">
        <div id="menu"></div>
        <div id="totalDisplay" style="font-size:1.5rem; font-weight:bold; margin:20px 0; text-align:right;">Total: â‚±0</div>

        <h3>DELIVERY DETAILS</h3>
        <input name="name" id="userName" placeholder="Full Name" required>
        <input name="contact" id="userContact" placeholder="Phone Number" required>
        <input name="address" id="userAddress" placeholder="Complete Address" required>
        <textarea name="notes" placeholder="Landmarks / Special Notes"></textarea>

        <h3>PAYMENT METHOD</h3>
        <div class="pay-box">
            <label class="pay-opt"><input type="radio" name="payment" value="Cash" checked onclick="togglePay()"> ðŸ’µ Cash on Delivery</label>
            <label class="pay-opt"><input type="radio" name="payment" value="GCash" onclick="togglePay()"> ðŸŸ¦ GCash</label>
            <label class="pay-opt"><input type="radio" name="payment" value="Maya" onclick="togglePay()"> ðŸŸ© Maya</label>
            <div id="payInstructions">
                Send payment to: <strong id="payLabel">GCash</strong><br>
                Number: <span id="payNum" style="font-weight:900; font-size:1.2rem;">---</span>
            </div>
        </div>

        <button type="submit" class="main" id="orderBtn">PLACE ORDER</button>
    </form>
</div>

<div id="modal">
    <div class="modal-box" id="modalContent">
        <h3>ORDER SUMMARY</h3>
        <div id="summaryItems" style="text-align:left; margin-bottom:15px;"></div>
        <button class="main" onclick="confirmOrder()" id="finalBtn">CONFIRM & SEND</button>
        <button onclick="document.getElementById('modal').style.display='none'" style="margin-top:10px; background:none; border:none; color:gray;">Cancel</button>
    </div>
</div>

<script>
const BASE = "https://script.google.com/macros/s/AKfycbx1d8F2P48XU_2gXXMnOs21zCaMPwrRuyCb5YkGSLUVpGPxwJj5fR8oT5HltlqtXkiDTg/exec";
let cart = {}; let settings = {};

async function init(){
    const sRes = await fetch(BASE + "?func=getSettings");
    settings = await sRes.json();
    if(settings.auto_closed || settings.closed_today){
        document.getElementById('closedBanner').style.display = "block";
        document.getElementById('form').style.display = "none";
    }
    const mRes = await fetch(BASE + "?func=getMenu");
    const menuData = await mRes.json();
    renderMenu(menuData);
}

function renderMenu(data){
    const tabs = document.getElementById('tabs');
    const menu = document.getElementById('menu');
    const cats = [...new Set(data.map(i => i.Category))];
    cats.forEach((cat, idx) => {
        const id = "cat-"+idx;
        tabs.insertAdjacentHTML('beforeend', `<button type="button" class="${idx===0?'active':''}" onclick="showCat('${id}', this)">${cat}</button>`);
        menu.insertAdjacentHTML('beforeend', `<div id="${id}" class="tab-content ${idx===0?'active':''}">
            <div class="grid">${data.filter(i=>i.Category===cat).map(i=>`
                <div class="item">
                    <img src="${i.ImageURL || 'https://via.placeholder.com/150'}">
                    <div class="item-body">
                        <strong>${i.Item}</strong><br><span class="price">â‚±${i.Price}</span>
                        ${i.SoldOut ? '<div style="color:red;font-weight:bold">SOLD OUT</div>' : 
                        `<input type="number" placeholder="Qty" min="0" onchange="updateCart('${i.Item}', ${i.Price}, this.value)" style="margin:5px 0 0; padding:5px">`}
                    </div>
                </div>`).join('')}</div></div>`);
    });
}

function updateCart(name, price, qty){
    if(qty > 0) cart[name] = { price, qty: parseInt(qty) };
    else delete cart[name];
    let total = 0; for(let k in cart) total += (cart[k].price * cart[k].qty);
    document.getElementById('totalDisplay').textContent = `Total: â‚±${total}`;
}

function togglePay(){
    const val = document.querySelector('input[name="payment"]:checked').value;
    const inst = document.getElementById('payInstructions');
    if(val === "Cash") inst.style.display = "none";
    else {
        inst.style.display = "block";
        document.getElementById('payLabel').textContent = val;
        document.getElementById('payNum').textContent = val === "GCash" ? settings.gcash_number : settings.maya_number;
    }
}

function showCat(id, btn){
    document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
    document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
    document.getElementById(id).classList.add('active'); btn.classList.add('active');
}

document.getElementById('form').onsubmit = (e) => {
    e.preventDefault();
    if(Object.keys(cart).length === 0) return alert("Cart is empty!");
    let html = ''; let total = 0;
    for(let k in cart) { 
        html += `<div style="display:flex; justify-content:space-between"><span>${k} x${cart[k].qty}</span><span>â‚±${cart[k].price * cart[k].qty}</span></div>`;
        total += (cart[k].price * cart[k].qty);
    }
    document.getElementById('summaryItems').innerHTML = html + `<hr><strong>Total: â‚±${total}</strong>`;
    document.getElementById('modal').style.display = "flex";
}

async function confirmOrder(){
    const btn = document.getElementById('finalBtn'); btn.disabled = true; btn.textContent = "Sending...";
    const fd = new URLSearchParams();
    fd.append("func", "order");
    fd.append("name", document.getElementById('userName').value);
    fd.append("contact", document.getElementById('userContact').value);
    fd.append("address", document.getElementById('userAddress').value);
    fd.append("notes", document.querySelector('textarea[name="notes"]').value);
    fd.append("payment", document.querySelector('input[name="payment"]:checked').value);
    
    let items = []; let total = 0;
    for(let k in cart) { items.push(`${k} (x${cart[k].qty})`); total += (cart[k].price * cart[k].qty); }
    fd.append("items", items.join(", "));
    fd.append("total", total);

    fetch(BASE, { method: "POST", mode: "no-cors", body: fd.toString() });
    
    const id = "AK-" + Math.floor(Date.now() / 1000).toString().slice(-6); // Temporary ID for UI
    document.getElementById('modalContent').innerHTML = `<h2>ORDER PLACED!</h2><p>Your Order ID:</p><div class="order-id-display">${id}</div><p>Take a screenshot.</p><button class="main" onclick="location.reload()">OK</button>`;
}

init();
</script>
